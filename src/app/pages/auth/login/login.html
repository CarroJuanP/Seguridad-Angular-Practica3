<p-toast></p-toast>

<div class="min-h-screen flex align-items-center justify-content-center surface-ground"><p-card header="Login">
  <form [formGroup]="loginForm" class="p-fluid">

    <p-stepper [(value)]="activeStep">
      <p-step-list>
        <p-step [value]="1"></p-step>
        <p-step [value]="2"></p-step>
      </p-step-list>

      <p-step-panels>
        <p-step-panel [value]="1">
          <ng-template #content let-activateCallback="activateCallback">
            <div class="field">
              <label>Email</label>
              <input pInputText formControlName="email" type="email">
              <small *ngIf="f['email'].invalid && f['email'].touched" class="p-error">Email inválido</small>
            </div>
            <p-button
              label="Siguiente"
              icon="pi pi-arrow-right"
              (onClick)="activateCallback(2)"
              [disabled]="f['email'].invalid">
            </p-button>
          </ng-template>
        </p-step-panel>

        <p-step-panel [value]="2">
          <ng-template #content let-activateCallback="activateCallback">
            <div class="field">
              <label>Password</label>
              <p-password formControlName="password" [feedback]="false"></p-password>
              <small *ngIf="f['password'].invalid && f['password'].touched" class="p-error">Contraseña requerida</small>
            </div>
            <div class="flex justify-content-between">
              <p-button
                label="Atrás"
                severity="secondary"
                icon="pi pi-arrow-left"
                (onClick)="activateCallback(1)">
              </p-button>
              <p-button
                label="Ingresar"
                icon="pi pi-sign-in"
                (onClick)="login()"
                [disabled]="loginForm.invalid">
              </p-button>
            </div>
          </ng-template>
        </p-step-panel>
      </p-step-panels>
    </p-stepper>

  </form>
</p-card></div>
